import numpy as np
import math as mt

ADC_BITS = 10;
ADC_COUNTS = 1<<ADC_BITS;
OFFSETI = ADC_COUNTS>>1;

CHARGE_RES = 4.99;
ICAL = 2000/CHARGE_RES;

samples = 1480;
zeros = np.zeros(samples);
SAMPLEI = [555, 555, 555, 555, 556, 555, 555, 555, 555, 555, 550, 508, 588, 560, 516, 586, 560, 521, 577, 567, 524, 566, 578, 532, 550, 580, 552, 532, 564, 573, 547, 537, 562, 571, 550, 540, 556, 570, 560, 543, 545, 558, 565, 558, 552, 550, 550, 558, 560, 559, 553, 548, 556, 555, 556, 556, 556, 555, 555, 555, 556, 555, 556, 556, 556, 556, 555, 556, 556, 556, 556, 556, 556, 556, 555, 555, 556, 556, 556, 556, 555, 556, 555, 555, 556, 554, 556, 556, 556, 556, 556, 556, 556, 557, 556, 556, 556, 556, 555, 555, 556, 556, 555, 556, 555, 556, 556, 556, 556, 555, 556, 555, 556, 556, 556, 555, 556, 556, 556, 555, 556, 555, 555, 556, 556, 556, 555, 555, 556, 556, 556, 555, 555, 556, 555, 556, 556, 556, 556, 556, 556, 556, 556, 555, 555, 556, 556, 556, 556, 556, 555, 555, 555, 556, 555, 556, 556, 556, 556, 556, 556, 556, 555, 555, 556, 555, 555, 556, 556, 555, 556, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 555, 554, 556, 555, 555, 555, 555, 555, 555, 555, 555, 554, 590, 565, 512, 584, 562, 518, 581, 562, 522, 571, 576, 529, 552, 584, 542, 533, 576, 564, 536, 544, 573, 565, 540, 545, 567, 567, 546, 541, 556, 569, 560, 548, 546, 554, 559, 560, 556, 552, 549, 552, 560, 559, 554, 554, 554, 555, 554, 554, 554, 555, 554, 555, 554, 554, 554, 555, 554, 554, 554, 554, 554, 554, 554, 554, 554, 554, 554, 554, 554, 554, 554, 555, 554, 555, 553, 555, 555, 554, 554, 554, 554, 553, 554, 554, 554, 554, 555, 554, 554, 554, 554, 554, 554, 555, 554, 554, 554, 554, 554, 554, 554, 554, 554, 554, 554, 554, 554, 554, 555, 554, 554, 554, 555, 554, 554, 554, 554, 554, 554, 554, 554, 555, 555, 554, 554, 554, 554, 554, 555, 554, 554, 555, 555, 555, 554, 554, 554, 554, 554, 554, 555, 555, 554, 554, 554, 554, 554, 554, 555, 554, 555, 554]
#SAMPLEI = np.arange(0,1024,1);
#SAMPLEI = [1023];
#print(SAMPLEI)
#print(len(SAMPLEI))
SUMI =0;
SUPPLY_VOLTAGE = 3300;



for SAMPLE in SAMPLEI:
    #sampleI = analogRead(inpinI)
    OFFSETI = (OFFSETI + (SAMPLE-OFFSETI)/1024);
    FILTEREDI = 512 - OFFSETI;
    SQI = FILTEREDI*FILTEREDI;
    SUMI += SQI;

I_RATIO = ICAL*((SUPPLY_VOLTAGE/1000)/ADC_COUNTS);
IRMS = I_RATIO*(mt.sqrt(SUMI/len(SAMPLEI)))
SUMI = 0;

print(IRMS);






